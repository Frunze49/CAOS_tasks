<html><head><meta charset="utf-8"/></head>
<body>
<table border="1"><tr><td><b>Time limit:</b></td><td><tt>1 s</tt></td></tr>
<tr><td><b>Real time limit:</b></td><td><tt>5 s</tt></td></tr>
<tr><td><b>Memory limit:</b></td><td><tt>64M</tt></td></tr>
</table>
<h3>Problem kr04-5: asm/floats/asm-to-c-1</h3>
<p>На языке Си напишите функцию <code>computation</code> вычисляющую то же что приведенный ниже код на asm.</p>
<p>Функция ничего не возвращает. Аргументы функции неизвестны - вы должны выяснить их количество и типы из приведенного кода.</p>
<pre>
computation:
    movl 4(%esp), %ecx
    movl 8(%esp), %eax

    xorps %xmm0, %xmm0
    test %eax, %eax
    jz end

    movups (%ecx), %xmm0
    subl $4, %eax
    addl $16, %ecx
    test %eax, %eax
    jz end

loop:
    test %eax, %eax
    jz end
    movups (%ecx), %xmm1
    mulps %xmm1, %xmm0
    subl $4, %eax
    addl $16, %ecx
    jmp loop

end:
    movl 12(%esp), %eax
    haddps %xmm0, %xmm0
    haddps %xmm0, %xmm0
    movss %xmm0, (%eax)
    ret
</pre>
<p>Считайте, что операции с вещественными числами ассоциативны. Ассемблерные вставки использовать нельзя.</p>
<p> </p></body></html>